pipeline {
  agent any
  
  tools {
    // Usar Maven 3.9.1 para construir el proyecto
    maven '3.9.1'
  }
  
  stages {
    stage('Checkout') {
      steps {
        // Clonar el repositorio de GitHub y verificar la rama principal
        checkout scm
      }
    }
    
    stage('Build') {
      steps {
        // Limpiar el proyecto y compilarlo con Maven
        sh 'mvn clean install'
      }
    }
    
    stage('Test') {
      steps {
        // Ejecutar pruebas unitarias y de integraci√≥n
        sh 'mvn test'
      }
    }
    
    stage('Deploy') {
      steps {
        // Desplegar el artefacto construido en un servidor de aplicaciones
        // (por ejemplo, Tomcat)
        sh 'mvn tomcat7:deploy'
      }
    }
  }
}
